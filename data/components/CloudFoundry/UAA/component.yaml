documentation_complete: false
name: User Account and Authentication (UAA) Server
references:
- name: User Account and Authentication (UAA) Server
  type: URL
  path: http://docs.pivotal.io/pivotalcf/concepts/architecture/uaa.html
- name: Creating and Managing Users with the UAA CLI (UAAC)
  type: URL
  path: http://docs.pivotal.io/pivotalcf/adminguide/uaa-user-management.html
- name: UAA Roles
  type: URL
  path: https://cf-p1-docs-prod.cfapps.io/pivotalcf/concepts/roles.html
- name: Cloud Foundry Org Access
  type: URL
  path: https://github.com/cloudfoundry/cloud_controller_ng/blob/master/spec/unit/access/organization_access_spec.rb
- name: Cloud Foundry Space Access
  type: URL
  path: https://github.com/cloudfoundry/cloud_controller_ng/blob/master/spec/unit/access/space_access_spec.rb
satisfies:
  NIST-800-53:
    AC-2:
      implementation_status: null
      narrative:
        j: |
          # TODO
          User accounts will be monitored monthly and accounts will be disabled after 90 days of inactivity; this will be a manual review process every 30 days, but the disablement will be automatic.
          A manual review of all user accounts will be conducted on an annual basis

        k: |
          Cloud.Gov utilizes role based access controls (RBAC) for group membership within the platform and does not issue shared/group account credentials.

    AC-2 (1):
      implementation_status: null
      narrative: |
        Cloud.Gov uses the UAA CLI which is a semi-automated command line based account management system that enables operators to create, modify and deleted user accounts and roles within the platform. https://docs.cloudfoundry.org/adminguide/uaa-user-management.html
    AC-2 (2):
      implementation_status: null
      narrative: |
        Not Applicable. Cloud.Gov does not contain any guest/anonymous, group, or temporary user accounts. Devops only creates individual user accounts and grants role based access to users within Cloud.Gov. There are no guest/anonymous, group, or temporary user accounts in the 18F virtual environment.
    AC-2 (3):
      implementation_status: null
      narrative: |
        User accounts for 18F staff are monitored monthly and are disabled after 90 days of inactivity; this will be a manual review process every 30 days however the disablement will be automatic through the UAA.
        Client organizations using the Cloud.Gov platform are responsible for monitoring inactive user accounts created within their Cloud.Gov Org account. 18F staff are not responsible for these accounts
    AC-2 (5):
      implementation_status: null
      narrative: |
        Account log out is set to 15 minutes of inactivity.
    AC-2 (9):
      implementation_status: null
      narrative: |
        NA - This control is not applicable. Group accounts are not allowed  within the 18F VPC and the Cloud.Gov platform
    AC-2 (10):
      implementation_status: null
      narrative: |
        This control is not applicable. Group accounts are not allowed  within the 18F VPC and the Cloud.Gov PaaS
    AC-3:
      implementation_status: null
      narrative: |
        18F follows best practices by implementing the majority of the following:
          - Use RBAC model to restrict usersâ€™ access to only what is necessary to complete their tasks.
          - Use a strong passphrase for both Cloud.gov user account and SSH keys.
          - Configure UAA clients and users using a BOSH manifest. Limit and manage these clients and users as you would any other kind of privileged account.
    AC-4:
      implementation_status: null
      narrative: |
        The information system enforces approved authorizations for controlling the flow of information within the system and between interconnected systems based on the 18F Access Control Policy Section 3 -  Information Flow Enforcement which states:
          - 18F enforces approved authorizations for controlling the flow of information within its information systems and between interconnected systems in accordance with applicable federal laws and 18F policies and procedures.
          - 18F shall use flow control restrictions to include: keeping export controlled information from being transmitted in the clear to the Internet, blocking outside traffic that claims to be from within the organization and not passing any web requests to the Internet that are not from the internal web proxy.
          - 18F shall use boundary protection devices (e.g., proxies, gateways, guards, encrypted tunnels, firewalls, and routers) that employ rule sets or establish configuration settings that restrict information system services, provide a packet-filtering capability based on header information, or message-filtering capability based on content (e.g., using key word searches or document characteristics.

    IA-2:
      implementation_status: null
      narrative: |
        The UAA is the identity management service for Cloud Foundry. Its primary role is as an OAuth2 provider, issuing tokens for client applications to use when they act on behalf of Cloud Foundry users. In collaboration with the login server, it authenticates users with their Cloud Foundry credentials, and act as a Single Sign-On (SSO) service using those credentials (or others). It has endpoints for managing user accounts and for registering OAuth2 clients, as well as various other management functions.
        All users have individually unique identifiers to access and authenticates  to the environment. Shared or group authenticators are not utilized, with the exception of a root administrative account. There are only two authorized users from the DevOps team who has access to the root administrative account.
